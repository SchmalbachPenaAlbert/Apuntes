<script>

    let productosDisponibles = ["Ingletadora", "Esmerilladora", "Soldador", "Tronzadora", "Generador", "Medidor", "Encoladora", "Batería", "Taladro de impacto", "Martillo perforador"]
    let precioProductos = [129.99, 44.99, 119.99, 387, 359, 28.99, 6.99, 44.99, 79.99, 81.37]
    let productoSolicitado = ""
    let cantidadDeseada = 0
    let precioProductoSolicitado = 0
    let importe = 0
    let productosAdquiridos = []
    let cantidadesProductosAdquiridos = []
    let importeIVA = 0

    console.log(`Productos: ${productosDisponibles}`)

    // bucle mientras no se introduzca "FIN"
    while (productoSolicitado !== "FIN") {
        productoSolicitado = prompt("Introduce el nombre del artículo:")
        // Compruebo si se introduce "FIN" para que no se tenga que preguntar la cantidad innecesariamnte
        if (productoSolicitado !== "FIN") {
            cantidadDeseada = parseInt(prompt("Introduce la cantidad deseada del artículo:"))
            // si el producto solicitado coincide con algún producto del stock, se añade a la cuenta
            for (let i = 0; i < productosDisponibles.length; i++) {
                if (productoSolicitado == productosDisponibles[i]) {
                    precioProductoSolicitado = cantidadDeseada * precioProductos[i]
                    importe += precioProductoSolicitado
                    productosAdquiridos.push(productoSolicitado)
                    cantidadesProductosAdquiridos.push(cantidadDeseada)
                }
            }
            console.log(`Importe producto: ${precioProductoSolicitado.toFixed(2)}`)
            console.log(`Importe hasta ahora: ${importe.toFixed(2)}`)
        } else {
            console.log("Programa finalizado.")
        }
    }

    // bucle para el output final de los productos y su respectiva cantidad
    for (let i = 0; i < productosAdquiridos.length; i++) {
        console.log(`Producto ${i + 1}: ${productosAdquiridos[i]} | Cantidad: ${cantidadesProductosAdquiridos[i]}`)
    }
    console.log(`Subtotal: ${importe.toFixed(2)}`)
    // extra: añado un importe con IVA (el falcon no se paga solo)
    importeIVA = importe * 1.21
    console.log(`Importe a pagar (IVA incluido): ${importeIVA.toFixed(2)}`)

</script>