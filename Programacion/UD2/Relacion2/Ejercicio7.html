<script>

    let nombreGastos = ["Alquiler", "Factura agua", "Factura luz", "Gas natural", "Xbox 720", "Caramelos de menta"]
    let cantidadGastos = [450, 68.73, 81.04, 30, 399.99, 5.79]
    let opcion = 0
    let nuevoNombre = ""
    let nuevaCantidad = 0
    let totalNombreGastos = ""
    let totalCantidadGastos = 0
    let gastoMaximo = 0
    let gastoMinimo = 0
    let nombreGastoMinMax = ""
    let sumaGastos = 0
    let promedioGastos = 0
    let OPCIONMAXIMA = 5
    let OPCIONMINIMA = 1

    while (opcion != 5) {
        opcion = prompt("Introduce una de las siguientes opciones:\n1. Añadir un nuevo gasto\n2. Ver el total de gastos hasta el momento.\n3. Ver los gastos más altos y más bajos del mes.\n4. Ver el promedio de gasto diario\n5. Salir del programa.")
        // bucle que comprueba si la opcíon introducida excede la opcion máxima o la opción mínima

        while (opcion < OPCIONMINIMA || opcion > OPCIONMAXIMA) {
            opcion = prompt("No se ha introducido una opción válida.\nIntroduce una de las siguientes opciones:\n1. Añadir un nuevo gasto\n2. Ver el total de gastos hasta el momento.\n3. Ver los gastos más altos y más bajos del mes.\n4. Ver el promedio de gasto diario\n5. Salir del programa.")
        }

        if (opcion == 1) {
            // se pide el nombre y la cantidad
            nuevoNombre = prompt("Introduce el nombre del nuevo gasto:")
            // bucle que comprueba que la cantidad no sea nula o un string vacío
            while (nuevoNombre == null || nuevoNombre == "") {
                nuevoNombre = prompt("No se ha introducido un nombre válido. Introduce el nombre del nuevo gasto:")
            }
            nuevaCantidad = Number(prompt("Introduce la cantidad gastada:"))
            // bucle que comprueba que la cantidad sea positiva y no nula. Si es vacía, se asumirá que la cantidad es 0
            while (nuevaCantidad < 0 || nuevaCantidad == null) {
                nuevaCantidad = Number(prompt("La cantidad gastada NO puede ser menor que 0. Introduce la cantidad gastada:"))
            }
            // si se cumple con todos los requisitos, se hace push de los nuevos datos
            nombreGastos.push(nuevoNombre)
            cantidadGastos.push(nuevaCantidad)

        } else if (opcion == 2) {
            console.log("Lista de gastos:")
            // bucle que muestra al usuario el nombre y la cantidad de cada gasto en una linea
            for (let i = 0; i < nombreGastos.length; i++) {
                totalNombreGastos = nombreGastos[i]
                totalCantidadGastos = cantidadGastos[i]
                console.log("Gasto " + (i + 1) + ": " + totalNombreGastos + " | " + totalCantidadGastos + "€")
            }

        } else if (opcion == 3) {
            gastoMaximo = cantidadGastos[0]
            // bucle que recorre el array de las cantidades en busca del máximo gasto, asumiendo que es el primer valor que el y reemplazando cada vez que se encuentre un valor mayor
            for (let i = 0; i < cantidadGastos.length; i++) {
                if (gastoMaximo < cantidadGastos[i]) {
                    gastoMaximo = cantidadGastos[i]
                    nombreGastoMinMax = nombreGastos[i]
                }
            }
            console.log("El mayor gasto del mes corresponde al pago de " + nombreGastoMinMax + ", siendo el valor del gasto de " + gastoMaximo + "€.")
            
            // similar al bucle anterior, recorre el array de las cantidades en busca del mínimo gasto reemplazando cada vez que se encuentre uno menor
            gastoMinimo = cantidadGastos[0]
            for (let i = 0; i < cantidadGastos.length; i++) {
                if (gastoMinimo > cantidadGastos[i]) {
                    gastoMinimo = cantidadGastos[i]
                    nombreGastoMinMax = nombreGastos[i]
                }
            }
            console.log("El menor gasto del mes corresponde al pago de " + nombreGastoMinMax + ", siendo el valor del gasto de " + gastoMinimo + "€.")
            
        } else if (opcion == 4) {
            sumaGastos = 0
            // bucle que recorre el array de las cantidades y suma los valores
            for (let i = 0; i < cantidadGastos.length; i++) {
                sumaGastos += cantidadGastos[i]
            }
            // la suma resultante del bucle anterior se divide entre el mes (30 días) y se muestra redondeada a los céntimos
            promedioGastos = sumaGastos / 30
            console.log("El promedio de gasto diario este mes es de " + promedioGastos.toFixed(2) + "€.")
        }
    }
    console.log("Programa finalizado.")

</script>